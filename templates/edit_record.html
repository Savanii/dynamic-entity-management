{% extends "base.html" %}
{% block content %}

<div class="card shadow-sm">
    <div class="card-header bg-warning">
        Edit Record for: {{ entity[0] }}
    </div>

    <div class="card-body">

        {% if error %}
        <div class="alert alert-danger">
            {{ error }}
        </div>
        {% endif %}

        <form method="POST">

            {% for attr in attributes %}

                {% if not attr[3] %}

                    <div class="mb-3">
                        <label class="form-label">{{ attr[1] }}</label>

                        {% if attr[2] == "integer" %}
                            <input type="number"
                                   name="{{ attr[0] }}"
                                   value="{{ values.get(attr[0], '') }}"
                                   class="form-control"
                                   required>

                        {% elif attr[2] == "float" %}
                            <input type="number"
                                   step="any"
                                   name="{{ attr[0] }}"
                                   value="{{ values.get(attr[0], '') }}"
                                   class="form-control"
                                   required>

                        {% elif attr[2] == "boolean" %}
                            <select name="{{ attr[0] }}"
                                    class="form-select"
                                    required>
                                <option value="true"
                                    {% if values.get(attr[0]) == "true" %}selected{% endif %}>
                                    True
                                </option>
                                <option value="false"
                                    {% if values.get(attr[0]) == "false" %}selected{% endif %}>
                                    False
                                </option>
                            </select>

                        {% elif attr[2] == "date" %}
                            <input type="date"
                                   name="{{ attr[0] }}"
                                   value="{{ values.get(attr[0], '') }}"
                                   class="form-control"
                                   required>

                        {% else %}
                            <input type="text"
                                   name="{{ attr[0] }}"
                                   value="{{ values.get(attr[0], '') }}"
                                   class="form-control"
                                   required>
                        {% endif %}

                    </div>

                {% endif %}

            {% endfor %}

            <button type="submit" class="btn btn-primary">
                Update Record
            </button>

        </form>

    </div>
</div>

{% endblock %}